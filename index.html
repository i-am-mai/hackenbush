<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Web Page</title>
    <link rel="stylesheet" href="css/styles.css" type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <div>
        <h1 class="text-center">Hackenbush</h1>
    </div>
    <div class="d-flex justify-content-center">
        <form id="controls">
            <input type="radio" class="btn-check" name="options" id="node" value="node" checked>
            <label class="btn btn-outline-secondary" for="node">Add Node</label>
            
            <input type="radio" class="btn-check" name="options" id="red" value="red">
            <label class="btn btn-outline-danger" for="red"> Add Red Edge</label>

            <input type="radio" class="btn-check" name="options" id="blue" value="blue">
            <label class="btn btn-outline-primary" for="blue">Add Blue Edge</label>
            
            <input type="radio" class="btn-check" name="options" id="erase" value="erase">
            <label class="btn btn-outline-secondary" for="erase">Erase</label>
        </form>

        <button id="clear" class="btn btn-outline-secondary" style="margin-left: 2em">Clear board</button>
    </div>
    <div class="d-flex justify-content-center">
        <div id="canvas"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/fabric"></script>
    <script src="js/drawingEditor.js"></script>
    <script>
        $(function () {
            //Calculate canvas height as function of window, 
            //to accommodate different screen sizes
            var canvasHeight = (window.innerHeight - $('#canvas').offset().top) * 0.9;
            //Calculate canvas width
            var canvasWidth = window.innerWidth * 0.5;

            //The canvas is created inside this constructor, using the selector passed.
            var editor = new DrawingEditor('canvas', canvasHeight, canvasWidth);

            value = $('input[name=options]:checked', '#controls').val();
            if (value == "erase") {
                editor.drawingMode = 2;
            }
            else if (value == "node") {
                editor.drawingMode = 0;
            }
            else {
                editor.drawingMode = 1;
            }

            $('#controls input').on('change', () => {
                value = $('input[name=options]:checked', '#controls').val();
                if (value == "erase") {
                    editor.drawingMode = 2;
                }
                else if (value == "node") {
                    editor.drawingMode = 0;
                }
                else {
                    editor.drawingMode = 1;
                    editor.color = value;
                }
            })

            $('#clear').on('click', () => {
                
            });
        });
    </script>
</body>
</html>
